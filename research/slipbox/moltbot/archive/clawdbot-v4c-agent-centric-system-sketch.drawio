<mxfile host="65bd71144e">
  <diagram id="agent-centric" name="Agent-centric Architecture">
    <mxGraphModel dx="828" dy="347" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <mxCell id="title" value="Clawdbot Architecture (Agent layer as core)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontStyle=1;fontSize=24;fontColor=#202124;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="410" y="20" width="780" height="44" as="geometry"/>
        </mxCell>

        <!-- Entry layer -->
        <mxCell id="entry" value="ENTRY (Channels / UIs)" style="rounded=1;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=2;fillColor=#FEEFC3;strokeColor=#E37400;fontColor=#5D4200;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="70" y="110" width="520" height="170" as="geometry"/>
        </mxCell>
        <mxCell id="ch1" value="Telegram" style="ellipse;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=3;fillColor=#F1F3F4;strokeColor=#5F6368;fontColor=#202124;fontStyle=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="110" y="170" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ch2" value="WhatsApp" style="ellipse;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=3;fillColor=#F1F3F4;strokeColor=#5F6368;fontColor=#202124;fontStyle=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="250" y="170" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ui" value="CLI / Web UI" style="ellipse;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=3;fillColor=#F1F3F4;strokeColor=#5F6368;fontColor=#202124;fontStyle=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="390" y="170" width="170" height="60" as="geometry"/>
        </mxCell>

        <!-- Gateway -->
        <mxCell id="gw" value="GATEWAY (WS/HTTP)&#xa;:18789&#xa;channels + pairing + cron" style="rounded=1;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=2;fillColor=#C6DAFC;strokeColor=#1A73E8;fontColor=#0D47A1;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="70" y="320" width="520" height="150" as="geometry"/>
        </mxCell>

        <!-- Agent core -->
        <mxCell id="agent" value="AGENT CORE (runtime)" style="rounded=1;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=2;fillColor=#CEEAD6;strokeColor=#188038;fontColor=#0B5323;fontStyle=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="640" y="210" width="530" height="340" as="geometry"/>
        </mxCell>
        <mxCell id="session" value="Session / Context" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=2;fillColor=#F1F3F4;strokeColor=#5F6368;fontColor=#202124;fontStyle=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="680" y="270" width="150" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="memory" value="Memory (long-term)" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=2;fillColor=#F1F3F4;strokeColor=#5F6368;fontColor=#202124;fontStyle=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="850" y="270" width="150" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="router" value="LLM Router + Streaming" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=2;fillColor=#F1F3F4;strokeColor=#5F6368;fontColor=#202124;fontStyle=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1020" y="270" width="130" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="tools" value="TOOLS&#xa;file / browser / bash / MCP" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=2;fillColor=#FAD2CF;strokeColor=#C5221F;fontColor=#7F0000;fontStyle=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="680" y="360" width="240" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="hooks" value="Hooks&#xa;PreToolUse / PostToolUse" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=2;fillColor=#FEEFC3;strokeColor=#E37400;fontColor=#5D4200;fontStyle=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="940" y="360" width="210" height="80" as="geometry"/>
        </mxCell>

        <!-- Infrastructure -->
        <mxCell id="infra" value="INFRA (servant utilities)" style="rounded=1;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=2;dashed=1;fillColor=#DADCE0;strokeColor=#5F6368;fontColor=#202124;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="1210" y="110" width="320" height="650" as="geometry"/>
        </mxCell>
        <mxCell id="infra1" value="Config" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=2;fillColor=#F1F3F4;strokeColor=#5F6368;fontColor=#202124;fontStyle=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1250" y="180" width="250" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="infra2" value="Logging" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=2;fillColor=#F1F3F4;strokeColor=#5F6368;fontColor=#202124;fontStyle=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1250" y="260" width="250" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="infra3" value="Tool Sandbox" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=2;fillColor=#F1F3F4;strokeColor=#5F6368;fontColor=#202124;fontStyle=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1250" y="340" width="250" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="infra4" value="Memory Store" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=2;fillColor=#F1F3F4;strokeColor=#5F6368;fontColor=#202124;fontStyle=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1250" y="420" width="250" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="infra5" value="Sessions" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;strokeWidth=2;fillColor=#F1F3F4;strokeColor=#5F6368;fontColor=#202124;fontStyle=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1250" y="500" width="250" height="60" as="geometry"/>
        </mxCell>

        <!-- edges -->
        <mxCell id="e1" value="messages" style="edgeStyle=orthogonalEdgeStyle;rounded=1;sketch=1;curveFitting=1;jiggle=2;html=1;strokeWidth=2;strokeColor=#5F6368;" parent="1" source="entry" target="gw" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e2" value="agent events" style="edgeStyle=orthogonalEdgeStyle;rounded=1;sketch=1;curveFitting=1;jiggle=2;html=1;strokeWidth=2;strokeColor=#5F6368;" parent="1" source="gw" target="agent" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e3" value="tool calls" style="edgeStyle=orthogonalEdgeStyle;rounded=1;sketch=1;curveFitting=1;jiggle=2;html=1;strokeWidth=2;strokeColor=#5F6368;" parent="1" source="tools" target="hooks" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e4" value="uses" style="edgeStyle=orthogonalEdgeStyle;rounded=1;sketch=1;curveFitting=1;jiggle=2;html=1;strokeWidth=2;dashed=1;strokeColor=#5F6368;" parent="1" source="agent" target="infra" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
